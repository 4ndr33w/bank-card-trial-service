openapi: 3.1.0
info:
  title: Сервис упраленния пользователями и пользовательскими продуктами (картами)
  description: Сервис упраленния пользователями и пользовательскими продуктами (картами)
  contact:
    name: Andr33w
    email: andr33w@example.com
  version: "1.0"
servers:
  - url: http://localhost:700
    description: Generated server url
security:
  - bearer: []
paths:
  /api/v1/users:
    get:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Получение пользовательских данных аутенфицированного пользователя
      operationId: get
      responses:
        "200":
          description: Успешно получены данные собственого профиля аутенфицированного пользователя
          content:
            application/json:
              schema: 
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
    post:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Создание нового профиля клиента
      operationId: create
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Имя пользователя
                  example: Вася
                  maxLength: 30
                  minLength: 1
                  pattern: "^[A-Za-zА-Яа-яЁё\\-\\s]+$"
                lastName:
                  type: string
                  description: Фамилия пользователя
                  example: Пупкин
                email:
                  type: string
                  description: Электронная почта пользователя
                  example: pupok@123.ru
                userName:
                  type: string
                  description: Логин пользователя
                  example: pup0ck
                  maxLength: 30
                  minLength: 1
                password:
                  type: string
                  description: Пароль пользователя
                  example: qwErty!23@
                  maxLength: 30
                  minLength: 5
                  pattern: "^(?=.*[A-Z])(?=.*\\d)(?=.*[#@#$%^&*()_+\\-=\\[\\]{}|;:,.<>?>]).{8,}$"
                birthDate:
                  type: string
                  format: date
                  description: Дата рождения пользователя
                  example: 25.10.2000
              required:
                - email
                - name
                - password
                - userName
        required: true
      responses:
        "201":
          description: Пользователь успешно создан
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
    delete:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Удаление собственного профиля клиента
      operationId: delete
      responses:
        "204":
          description: Пользователь успешно удалён
          content:
            '*/*':
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
    patch:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Обновление пользовательских данных
      operationId: update
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Имя пользователя
                  example: Вася
                  maxLength: 30
                  minLength: 1
                  pattern: "^[A-Za-zА-Яа-яЁё\\-\\s]+$"
                lastName:
                  type: string
                  description: Фамилия пользователя
                  example: Пупкин
                birthDate:
                  type: string
                  format: date
                  description: Дата рождения пользователя
                  example: 25.10.2000
        required: true
      responses:
        "202":
          description: Пользователь успешно обновлен
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/users/page/{page}:
    post:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Получение постранично информацию о пользователях
      operationId: getPage
      parameters:
        - name: page
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: limit
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Успешно получены пользовательские данные
          content:
            application/json:
              schema:
                type: object
                properties:
                  currentPage:
                    type: integer
                    format: int32
                  limit:
                    type: integer
                    format: int32
                  totalPages:
                    type: integer
                    format: int64
                  totalUsers:
                    type: integer
                    format: int64
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        name:
                          type: string
                        lastName:
                          type: string
                        email:
                          type: string
                        userName:
                          type: string
                        createdAt:
                          type: string
                          format: date-time
                        active:
                          type: boolean
                        blocked:
                          type: boolean
                        roles:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                                format: uuid
                              role:
                                type: string
                              authority:
                                type: string
                          uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/clients/cards/transfer:
    post:
      tags:
        - Контроллер менеджмента карт клиентов
      summary: Перевести средства между собственными картами клиента
      operationId: transferMoney
      parameters:
        - name: amount
          in: query
          required: true
          schema:
            type: number
        - name: cardIdFrom
          in: query
          required: true
          schema:
            type: string
            format: uuid
        - name: cardIdTo
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Успешно совершен перевод средств
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  clientId:
                    type: string
                    format: uuid
                  cardNumber:
                    type: string
                  cardHolder:
                    type: string
                  expirationDate:
                    type: string
                  status:
                    type: string
                    enum:
                      - ACTIVE
                      - BLOCKED
                      - CLOSED
                      - EXPIRED
                  balance:
                    type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Карта не найдена у пользователя
          content:
            application/json:
              example:
                status: 404
                message: "Не найдена карта с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba у пользователя с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/clients/cards/page/{page}:
    post:
      tags:
        - Контроллер менеджмента карт клиентов
      summary: Получить список карт клиента с пагинацией
      operationId: getAllCardsByPage
      parameters:
        - name: page
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: limit
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Успешно получен список карт клиента с пагинацией
          content:
            application/json:
              schema:
                type: object
                properties:
                  currentPage:
                    type: integer
                    format: int32
                  limit:
                    type: integer
                    format: int32
                  totalPages:
                    type: integer
                    format: int64
                  totalCards:
                    type: integer
                    format: int64
                  cards:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        clientId:
                          type: string
                          format: uuid
                        cardNumber:
                          type: string
                        cardHolder:
                          type: string
                        expirationDate:
                          type: string
                        status:
                          type: string
                          enum:
                            - ACTIVE
                            - BLOCKED
                            - CLOSED
                            - EXPIRED
                        balance:
                          type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/cards:
    post:
      tags:
        - Контроллер администрирования операций над картами клиентов
      summary: Создание карты
      operationId: create_1
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                clientId:
                  type: string
                  format: uuid
              required:
                - clientId
        required: true
      responses:
        "202":
          description: Успешно создана карта
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  clientId:
                    type: string
                    format: uuid
                  cardNumber:
                    type: string
                  cardHolder:
                    type: string
                  expirationDate:
                    type: string
                  status:
                    type: string
                    enum:
                      - ACTIVE
                      - BLOCKED
                      - CLOSED
                      - EXPIRED
                  balance:
                    type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/cards/{clientId}:
    post:
      tags:
        - Контроллер администрирования операций над картами клиентов
      summary: Просмотр всех карт клиента
      operationId: getAllCardsByClientId
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Получен список всех карт клиента с пагинацией
          content:
            application/json:
              schema:
                type: object
                properties:
                  currentPage:
                    type: integer
                    format: int32
                  limit:
                    type: integer
                    format: int32
                  totalPages:
                    type: integer
                    format: int64
                  totalCards:
                    type: integer
                    format: int64
                  cards:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        clientId:
                          type: string
                          format: uuid
                        cardNumber:
                          type: string
                        cardHolder:
                          type: string
                        expirationDate:
                          type: string
                        status:
                          type: string
                          enum:
                            - ACTIVE
                            - BLOCKED
                            - CLOSED
                            - EXPIRED
                        balance:
                          type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/cards/page/{page}:
    post:
      tags:
        - Контроллер администрирования операций над картами клиентов
      summary: Просмотр всех карт постранично
      operationId: getAllCardsByPage_1
      parameters:
        - name: page
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: limit
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Получен список всех постранично
          content:
            application/json:
              schema:
                type: object
                properties:
                  currentPage:
                    type: integer
                    format: int32
                  limit:
                    type: integer
                    format: int32
                  totalPages:
                    type: integer
                    format: int64
                  totalCards:
                    type: integer
                    format: int64
                  cards:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        clientId:
                          type: string
                          format: uuid
                        cardNumber:
                          type: string
                        cardHolder:
                          type: string
                        expirationDate:
                          type: string
                        status:
                          type: string
                          enum:
                            - ACTIVE
                            - BLOCKED
                            - CLOSED
                            - EXPIRED
                        balance:
                          type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/auth/refresh:
    post:
      tags:
        - Контроллер управления токенами
      summary: Получение новой пары токенов
      operationId: refresh
      parameters:
        - name: refreshToken
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Успешно получена новая пара токенов
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessToken:
                    type: string
                  refreshToken:
                    type: string
                  accessTokenLifetimeMinutes:
                    type: integer
                    format: int64
                  refreshTokenLifetimeMinutes:
                    type: integer
                    format: int64
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Токен не прошел валидацию
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/admin/role/remove:
    post:
      tags:
        - Контроллер администрирования пользователей
      summary: Удаление роли у пользователя
      operationId: removeRoleFromUser
      parameters:
        - name: role
          in: query
          required: true
          schema:
            type: string
            enum:
              - USER
              - ADMIN
        - name: userId
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: У пользователя успешно удалена роль
          content:
            application/json:
              schema:
                type: boolean
        "400":
          description: |
            1) Некорректный запрос;
            2) У пользователя отсутствует указанная роль.
          content:
            application/json:
              examples:
                Роль уже назначена пользователю:
                  description: Роль уже назначена пользователю
                  value:
                    status: 404
                    message: "У пользователя с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba отсутствует роль SUPER_PUPER_DUPER_MEGA_ADMIN"
                    timestamp: 29.12..2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: |
            1) Пользователь не найден;
            2) Роль не найдена.
          content:
            application/json:
              examples:
                Пользователь не найден:
                  description: Пользователь не найден
                  value:
                    status: 404
                    message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                    timestamp: 29.12.2025 23:45:59
                Роль не найдена:
                  description: Роль не найдена
                  value:
                    status: 404
                    message: Роль SUPER_PUPER_MEGA_ADMINISTRATORR не найдена
                    timestamp: 29.12..2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/admin/role/add:
    post:
      tags:
        - Контроллер администрирования пользователей
      summary: Добавление роль пользователю
      operationId: addRoleToUser
      parameters:
        - name: role
          in: query
          required: true
          schema:
            type: string
            enum:
              - USER
              - ADMIN
        - name: userId
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Пользователю успешно добавлена роль
          content:
            application/json:
              schema:
                type: boolean
        "400":
          description: |
            1) Некорректный запрос;
            2) Роль уже назначена пользователю.
          content:
            application/json:
              examples:
                Роль уже назначена пользователю:
                  description: Роль уже назначена пользователю
                  value:
                    status: 404
                    message: "Пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba уже имеет роль USER"
                    timestamp: 29.12..2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: |
            1) Пользователь не найден;
            2) Роль не найдена.
          content:
            application/json:
              examples:
                Пользователь не найден:
                  description: Пользователь не найден
                  value:
                    status: 404
                    message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                    timestamp: 29.12.2025 23:45:59
                Роль не найдена:
                  description: Роль не найдена
                  value:
                    status: 404
                    message: Роль SUPER_PUPER_MEGA_ADMINISTRATORR не найдена
                    timestamp: 29.12..2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/admin/{clientId}:
    delete:
      tags:
        - Контроллер администрирования пользователей
      summary: Удаление пользователя по его Id
      operationId: deleteByClientId
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Пользователь успешно удалён
          content:
            '*/*':
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
    patch:
      tags:
        - Контроллер администрирования пользователей
      summary: Обновление пользователя по его Id
      operationId: updateByClientId
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Имя пользователя
                  example: Вася
                  maxLength: 30
                  minLength: 1
                  pattern: "^[A-Za-zА-Яа-яЁё\\-\\s]+$"
                lastName:
                  type: string
                  description: Фамилия пользователя
                  example: Пупкин
                birthDate:
                  type: string
                  format: date
                  description: Дата рождения пользователя
                  example: 25.10.2000
        required: true
      responses:
        "202":
          description: Пользователь успешно обновлен
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/users/{id}:
    get:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Получение пользовательских данных по id
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Успешно получены пользовательские данные
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/users/username/{username}:
    get:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Получение пользовательских данных по username
      operationId: getByUsername
      parameters:
        - name: username
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Успешно получены пользовательские данные по username
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/users/email/{email}:
    get:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Получение пользовательских данных по email
      operationId: getByEmail
      parameters:
        - name: email
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Успешно получены пользовательские данные по email
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  userName:
                    type: string
                  createdAt:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  blocked:
                    type: boolean
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        role:
                          type: string
                        authority:
                          type: string
                    uniqueItems: true
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/users/deactivate:
    get:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Деактивация собственного профиля клиента
      operationId: deactivate
      responses:
        "200":
          description: Пользователь деактивировал собственный профиль
          content:
            application/json:
              schema:
                type: boolean
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/users/block:
    get:
      tags:
        - Контероллер менеджмента профилей клиентов
      summary: Блокировка собственного профиля клиента
      operationId: block
      responses:
        "200":
          description: Пользователь заблокировал собственный профиль
          content:
            application/json:
              schema:
                type: boolean
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/clients/cards/{cardId}:
    get:
      tags:
        - Контроллер менеджмента карт клиентов
      summary: Получить данные карты по её ID
      operationId: getCardById
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Успешно получены данные карты по её ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  clientId:
                    type: string
                    format: uuid
                  cardNumber:
                    type: string
                  cardHolder:
                    type: string
                  expirationDate:
                    type: string
                  status:
                    type: string
                    enum:
                      - ACTIVE
                      - BLOCKED
                      - CLOSED
                      - EXPIRED
                  balance:
                    type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Карта не найдена у пользователя
          content:
            application/json:
              example:
                status: 404
                message: "Не найдена карта с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba у пользователя с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/clients/cards/block/{cardId}:
    get:
      tags:
        - Контроллер менеджмента карт клиентов
      summary: Отправить запрос на блокировку карты
      operationId: blockCardRequest
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Отправлен запрос на блокировку карты
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  clientId:
                    type: string
                    format: uuid
                  cardNumber:
                    type: string
                  cardHolder:
                    type: string
                  expirationDate:
                    type: string
                  status:
                    type: string
                    enum:
                      - ACTIVE
                      - BLOCKED
                      - CLOSED
                      - EXPIRED
                  balance:
                    type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Карта не найдена у пользователя
          content:
            application/json:
              example:
                status: 404
                message: "Не найдена карта с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba у пользователя с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/clients/cards/balance/{cardId}:
    get:
      tags:
        - Контроллер менеджмента карт клиентов
      summary: Получить баланс карты
      operationId: getBalance
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Успешно получены баланс карты по её ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  balance:
                    type: number
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/cards/block/{cardId}:
    get:
      tags:
        - Контроллер администрирования операций над картами клиентов
      summary: Блокировка карты
      operationId: blockCard
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Карта заблокирована
          content:
            '*/*':
              schema:
                type: boolean
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/cards/activate/{cardId}:
    get:
      tags:
        - Контроллер администрирования операций над картами клиентов
      summary: Разблокировка карты
      operationId: activateCard
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Карта активирована
          content:
            '*/*':
              schema:
                type: boolean
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/admin/unblock/{clientId}:
    get:
      tags:
        - Контроллер администрирования пользователей
      summary: Разблокировать пользователя по его Id
      operationId: unblockAccountByClientId
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Пользователь успешно разблокирован
          content:
            application/json:
              schema:
                type: boolean
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/admin/deactivate/{clientId}:
    get:
      tags:
        - Контроллер администрирования пользователей
      summary: Деактивировать пользователя по его Id
      operationId: deactivateAccountByClientId
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Пользователь успешно деактивирован
          content:
            application/json:
              schema:
                type: boolean
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/admin/block/{clientId}:
    get:
      tags:
        - Контроллер администрирования пользователей
      summary: Блокировка пользователя по его Id
      operationId: blockAccountByClientId
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Пользователь успешно заблокирован
          content:
            application/json:
              schema:
                type: boolean
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/admin/activate/{clientId}:
    get:
      tags:
        - Контроллер администрирования пользователей
      summary: Активировать пользователя по его Id
      operationId: activateAccountByClientId
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Пользователь успешно активирован
          content:
            application/json:
              schema:
                type: boolean
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "404":
          description: Пользователь не найден
          content:
            application/json:
              example:
                status: 404
                message: "Не найден пользователь с id: 019aa9af-71c4-75f1-a4a5-76ba592988ba"
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/cards/{cardId}:
    delete:
      tags:
        - Контроллер администрирования операций над картами клиентов
      summary: Удаление карты
      operationId: deleteCard
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Карта клиента целиком удалена
          content:
            '*/*':
              schema: {}
        "400":
          description: Некорректный запрос
          content:
            application/json:
              example:
                status: 400
                message: Некорректный запрос
                timestamp: 29.12.2025 23:45:59
        "401":
          description: Требуется авторизация
          content:
            application/json:
              example:
                status: 401
                message: Требуется авторизация
                timestamp: 29.12.2025 23:45:59
        "403":
          description: Нет прав на выполнение операции
          content:
            application/json:
              example:
                status: 403
                message: У вас нет прав на выполнение этой операции
                timestamp: 29.12.2025 23:45:59
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                type: object
                properties:
                  httpStatus:
                    type: integer
                    format: int32
                    description: Статус ответа
                    example: 500
                  message:
                    type: string
                    description: Описание ошибки
                    example: Внутренняя ошибка сервера
                  timestamp:
                    type: string
                    format: date-time
                    description: Дата и время
                    example: 15.11.2025 23:45:59
  /api/v1/login:
    post:
      tags:
        - "Контроллер управления токенами"
      summary: "Аутентификация пользователя по логину и паролю"
      operationId: login
      description: "Для аутентификации требуется заголовок Authorization с префиксом Basic и логином:паролем в формате base64."
      security:
        - basic: [ ]
      responses:
        "200":
          description: "Успешная аутентификация"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthenticationResponseDto"
        "400":
          description: "Некорректный запрос"
          content:
            application/json:
              example:
                status: 400
                message: "Некорректный запрос"
                timestamp: "29.12.2025 23:45:59"
        "401":
          description: "Неверные учетные данные"
          content:
            application/json:
              example:
                status: 401
                message: "Неверный логин или пароль"
                timestamp: "29.12.2025 23:45:59"
        "500":
          description: "Внутренняя ошибка сервера"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
components:
  schemas:
    UserRequestDto:
      type: object
      properties:
        name:
          type: string
          description: Имя пользователя
          example: Вася
          maxLength: 30
          minLength: 1
          pattern: "^[A-Za-zА-Яа-яЁё\\-\\s]+$"
        lastName:
          type: string
          description: Фамилия пользователя
          example: Пупкин
        email:
          type: string
          description: Электронная почта пользователя
          example: pupok@123.ru
        userName:
          type: string
          description: Логин пользователя
          example: pup0ck
          maxLength: 30
          minLength: 1
        password:
          type: string
          description: Пароль пользователя
          example: qwErty!23@
          maxLength: 30
          minLength: 5
          pattern: "^(?=.*[A-Z])(?=.*\\d)(?=.*[#@#$%^&*()_+\\-=\\[\\]{}|;:,.<>?>]).{8,}$"
        birthDate:
          type: string
          format: date
          description: Дата рождения пользователя
          example: 25.10.2000
      required:
        - email
        - name
        - password
        - userName
    ErrorResponseDto:
      type: object
      properties:
        httpStatus:
          type: integer
          format: int32
          description: Статус ответа
          example: 500
        message:
          type: string
          description: Описание ошибки
          example: Внутренняя ошибка сервера
        timestamp:
          type: string
          format: date-time
          description: Дата и время
          example: 15.11.2025 23:45:59
    Role:
      type: object
      properties:
        id:
          type: string
          format: uuid
        role:
          type: string
        authority:
          type: string
    UserResponseDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        lastName:
          type: string
        email:
          type: string
        userName:
          type: string
        createdAt:
          type: string
          format: date-time
        active:
          type: boolean
        blocked:
          type: boolean
        roles:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              role:
                type: string
              authority:
                type: string
          uniqueItems: true
    UserPageViewResponseDto:
      type: object
      properties:
        currentPage:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        totalPages:
          type: integer
          format: int64
        totalUsers:
          type: integer
          format: int64
        users:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              name:
                type: string
              lastName:
                type: string
              email:
                type: string
              userName:
                type: string
              createdAt:
                type: string
                format: date-time
              active:
                type: boolean
              blocked:
                type: boolean
              roles:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      format: uuid
                    role:
                      type: string
                    authority:
                      type: string
                uniqueItems: true
    CardResponseDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        clientId:
          type: string
          format: uuid
        cardNumber:
          type: string
        cardHolder:
          type: string
        expirationDate:
          type: string
        status:
          type: string
          enum:
            - ACTIVE
            - BLOCKED
            - CLOSED
            - EXPIRED
        balance:
          type: number
    CardPageViewResponseDto:
      type: object
      properties:
        currentPage:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        totalPages:
          type: integer
          format: int64
        totalCards:
          type: integer
          format: int64
        cards:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              clientId:
                type: string
                format: uuid
              cardNumber:
                type: string
              cardHolder:
                type: string
              expirationDate:
                type: string
              status:
                type: string
                enum:
                  - ACTIVE
                  - BLOCKED
                  - CLOSED
                  - EXPIRED
              balance:
                type: number
    CardRequestDto:
      type: object
      properties:
        clientId:
          type: string
          format: uuid
      required:
        - clientId
    AuthenticationResponseDto:
      type: object
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
        accessTokenLifetimeMinutes:
          type: integer
          format: int64
        refreshTokenLifetimeMinutes:
          type: integer
          format: int64
    UserUpdateDto:
      type: object
      properties:
        name:
          type: string
          description: Имя пользователя
          example: Вася
          maxLength: 30
          minLength: 1
          pattern: "^[A-Za-zА-Яа-яЁё\\-\\s]+$"
        lastName:
          type: string
          description: Фамилия пользователя
          example: Пупкин
        birthDate:
          type: string
          format: date
          description: Дата рождения пользователя
          example: 25.10.2000
    CardBalanceResponseDto:
      type: object
      properties:
        balance:
          type: number
  securitySchemes:
    basic:
      type: http
      description: Basic Authentication
      name: Authorization
      in: header
      scheme: basic
    bearer:
      type: http
      description: Bearer Token
      name: Authorization
      in: header
      scheme: bearer
      bearerFormat: JWT